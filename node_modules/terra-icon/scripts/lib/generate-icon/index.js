"use strict";

var _fs = _interopRequireDefault(require("fs"));

var _path = _interopRequireDefault(require("path"));

var _removeMakeDirectories = _interopRequireDefault(require("./removeMakeDirectories"));

var _parseSvg = _interopRequireDefault(require("./parseSvg"));

var _renderJsx = _interopRequireDefault(require("./renderJsx"));

var _writeIcon = _interopRequireDefault(require("./writeIcon"));

var _config = require("../config");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable import/no-extraneous-dependencies */

/* eslint-enable import/no-extraneous-dependencies */
(0, _removeMakeDirectories.default)(); // get filepath for every svg

var svgs = _fs.default.readdirSync(_config.TerraIcon.svgDir) // Only load svg files
.filter(function (f) {
  return _path.default.extname(f) === '.svg';
}) // // Resolve to absolute path
.map(function (f) {
  return _path.default.join(_config.TerraIcon.svgDir, f);
});
/* eslint-disable no-console */


svgs.forEach(function (svg) {
  (0, _parseSvg.default)(svg).then(_renderJsx.default).then(_writeIcon.default).catch(console.error);
});